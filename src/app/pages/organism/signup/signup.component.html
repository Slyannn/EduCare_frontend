<div class="container" xmlns="http://www.w3.org/1999/html">
  <div class="signup p-3">

    <!--Title -->
    <div class="row">
      <div class="col-12">
        <p class="text-center h2 register" >Enregistrez-vous</p>
      </div>

      <div class="d-flex justify-content-center">
        <div class=" text-white container">
          <hr>

          <mat-stepper #stepper class="rounded-2">

            <mat-step [stepControl]="userFormGroup" errorMessage="Les champs marqués d'un astérisque (*) sont obligatoires.">
              <form [formGroup]="userFormGroup">
                <ng-template matStepLabel>Compte Utilisateur</ng-template>
                <mat-form-field>
                  <mat-label>Email</mat-label>
                  <input matInput type="email" placeholder="Enter your email" formControlName="email" required>
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Mot de passe</mat-label>
                  <input matInput type="password" placeholder="Enter your password" formControlName="password" required>
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Repété le mot de passe</mat-label>
                  <input matInput type="password" placeholder="Repeat your password" formControlName="passwordRepeat" required>
                </mat-form-field>
                <div>
                  <p>Go to a different step to see the error state</p>
                  <button mat-button matStepperNext>Next</button>
                </div>
              </form>
            </mat-step>


            <mat-step [stepControl]="organismFormGroup" errorMessage="Les champs marqués d'un astérisque (*) sont obligatoires.">
              <form [formGroup]="organismFormGroup">
                <ng-template matStepLabel>Profile</ng-template>
                <mat-label>Selectionner vos services</mat-label>
                <div class="form-check form-check-inline m-3" *ngFor="let need of needs; index as i">
                  <label class="form-check-label" [for]="'need_' + i">
                    <input class="form-check-input" type="checkbox" [value]="need.id" (change)="onCheckboxChange($event)">

                    <span> {{ need.name }} </span>
                  </label>
                </div>

                <mat-form-field>
                  <mat-label>Name</mat-label>
                  <input matInput placeholder="Enter the Name of the Organism" formControlName="name"
                         required>
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Téléphone</mat-label>
                  <input matInput placeholder="Enter the phone number of the Organism" formControlName="phone"
                         required>
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Email de l'organisme</mat-label>
                  <input matInput placeholder="Enter the organism email" formControlName="organismEmail"
                         required>
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Description</mat-label>
                  <textarea matInput placeholder="Enter the description" formControlName="description" row="3"> </textarea>
                </mat-form-field>

                <div>
                  <p>Go to a different step to see the error state</p>
                  <button mat-button matStepperPrevious>Back</button>
                  <button mat-button matStepperNext>Next</button>
                </div>
              </form>
            </mat-step>
            <mat-step [stepControl]="addressFormGroup" errorMessage="Les champs marqués d'un astérisque (*) sont obligatoires.">
              <form [formGroup]="addressFormGroup" >
                <ng-template matStepLabel>Adresse</ng-template>

                <mat-form-field >
                  <mat-label>Rue</mat-label>
                  <input matInput placeholder="Enter the address" formControlName="street" required>
                </mat-form-field>
                <mat-form-field >
                  <mat-label>Code Postal</mat-label>
                  <input matInput placeholder="Enter the postal code" formControlName="zipCode" required>
                </mat-form-field>
                <mat-form-field >
                  <mat-label>Ville</mat-label>
                  <input matInput placeholder="Enter the city" formControlName="city" required>
                </mat-form-field>
                <mat-form-field >
                  <mat-label>Pays</mat-label>
                  <input matInput placeholder="Enter the country" formControlName="country" required>
                </mat-form-field>

                <div>
                  <p>Go to a different step to see the error state</p>
                  <button mat-button matStepperPrevious>Back</button>
                  <button mat-button matStepperNext>Next</button>
                </div>
              </form>
            </mat-step>

            <mat-step [stepControl]="uploadFormGroup">
              <form [formGroup]="uploadFormGroup" >
                <ng-template matStepLabel>Document</ng-template>
                <div class="mt-3 mb-3 col-12">
                  <label for="certificate" class="form-label">télécharger un certificat</label>
                  <input class="form-control" type="file" id="certificate"  (change)="onImageChange($event)" required>
                </div>

                <div class="mt-3 mb-3 col-12">
                  <label for="logo" class="form-label">Logo</label>
                  <input class="form-control" type="file" id="logo" (change)="onImageChange($event)" required>
                </div>

                <div>
                  <button mat-button matStepperPrevious>Back</button>

                  <button mat-button (click)="onSubmit()" class="btn" type="submit" >S'enregistrez</button>
                </div>
              </form>

            </mat-step>


          </mat-stepper>

        </div>
      </div>

    </div>

  </div>

</div>
